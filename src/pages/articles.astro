---
import image1 from "../assets/mongolia-2.jpg";
import { Image } from 'astro:assets';
import '../styles/newglobal.css';
import NewBaseLayout from '../layouts/NewBaseLayout.astro';
import Header from '@components/Header.astro';
import Footer from '@components/Footer.astro';
import ShortBlogPost from '@components/ShortBlogPost.astro';
import { getCollection } from "astro:content";

const allBlogPosts = (await getCollection('blog')).sort(
  (a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf(),
);

const page = "articles";
---
<NewBaseLayout page={page}>
    <main>
        <div class="fenetre">
            <Image src={image1} alt="alt" width="900px" height="700px"/>
        </div>
        <div class="desc">
            <Header />
            <div class="articles">
                {allBlogPosts.map((post) => <ShortBlogPost title={post.data.title} desc={post.data.description} date={post.data.pubDate} tags={post.data.tags} url={`/posts/${post.id}`} image={post.data.cover} imageAlt={post.data.coverAlt} />)}
            </div>
        </div>
    </main>
</NewBaseLayout>

<style>
header {
    padding: 0;
    align-items: center;
    padding-bottom: 24px;
}
header p {
    display: none;
}
a.logo {
    background-color: transparent;
    color: #000 !important;
    padding: 0px !important;
}
body {
    padding: 0px;
}
.articles {
    display: flex;
    flex-direction: column;
}
.fenetre {
    width: 40%;
    position: relative;
}
.desc {
    flex-direction: column;
    width: 60%;
    padding: 40px;
}
.intro {
    top: 0;
    padding: 0px;
    z-index: 1;
    width: 100%;
}
.fenetre img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}
</style>