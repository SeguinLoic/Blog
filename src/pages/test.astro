---
import '../styles/global.css';
import BaseLayout from '../layouts/BaseLayout.astro';
import Header from '../components/Header.astro';
import Navigation from '../components/Navigation.astro';
import Footer from '../components/Footer.astro';
import ComposantTest from '../components/ComposantTest.astro';
import ShortBlogPost from '../components/ShortBlogPost.astro';
import ShortBlogPostTest from '../components/ShortBlogPost.astro';

import { Image } from "astro:assets";
import { getCollection } from "astro:content";
const allBlogPosts = await getCollection("posts");

const page = "test";
---

<BaseLayout page={page}>
    <Header />
    <Navigation />
    <main>
        {
            allBlogPosts.map((post) => (
                <div>
                <Image src={post.data.cover} alt="image" />
                </div>
            ))
        }
        {
            allBlogPosts.map((post) => (
                <ComposantTest image={post.data.cover} title={post.data.title} />
            ))
        }
        {
            allBlogPosts.map((post: any) => (
                <ShortBlogPostTest title={post.data.title} desc={post.data.description} date={post.data.pubDate.toString().slice(0,10)} image={post.data.cover} />
            ))
        }        
        <!-- {
            allBlogPosts.map((post) => (
                <ShortBlogPost image={post.data.cover} />
            ))
        } -->
    </main>
    <Footer />
</BaseLayout>

<style>
    main {
        padding: 40px 24px 0px;
    }
    @media screen and (max-width: 768px) {
        main {
            padding: 24px 16px;
        }   
    }
</style>